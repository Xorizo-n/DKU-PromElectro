# DKU-PromElectro
# Проект: ПО для ДКУ-02

Программа для ДКУ-02 находится в репозитории https://github.com/Xorizo-n/DKU-PromElectro

## Как скачать проект?
Необходимо нажать на кнопку "Code" в репозитории, в контекстном меню нажать на "Download ZIP"

## Работа системы верхнего уровня:
Необходимо ввести значения для счётчика осей, скорости и нажать на кнопку "Старт".

## Работа эмулятора:
В эмуляторе вводим значение для счётчика осей и значение скорости, выбираем необходимый COM порт и нажимаем "Подключить".
Программа определяет факт прохода, направление движения, скорость колеса, осуществлять счёт количества осей с учётом направления движения, передавать эту информацию другим системам или оператору. Для чтения используется третья функция Modbus, для записи - шестая функция Modbus.

## Описание регистровых переменных ДКУ:
  - 40025 (для записи) - Регистр записи индивидуального адреса
  - 40030 (для чтения) - 10-битный счетчик осей
  - 40031 (для чтения) - 16-битный регистр параметра скорости
  - 40032 (для чтения) - Регистр эксплуатационных признаков (младший байт), регистр отказов и диагностики (старший байт)
  - 40033 (для записи) - Регистр команд
  - 40034 (для чтения) - Младшие байты регистра меток времени
  - 40035 (для чтения) - Старшие байты регистра меток времени
  - 40036 (для чтения) - Младшие байты счетчика меток времени
  - 40037 (для чтения) - Старшие байты счетчика меток времени

## Описание бит регистровой переменной 40032:
 - 0 Наличие колеса в зоне 0
 - 1 Наличие колеса в зоне 1
 - 2 Установленное направление счета
 - 3 Зафиксировано положительное направление прохода колеса
 - 4 Зафиксировано отрицательное направление прохода колеса
 - 8 Начальная установка
 - 9 Неисправность ДКУ
 - 10 Съем ДКУ
 - 11 Чувствительность ниже нормы
 - 12 Постороннее воздействие на ДКУ
 - 13 Наличие постороннего металла в зоне ДКУ
 - 14 Отклонение сигналов генераторов от нормы
 - 15 Медленное движение колеса над датчиком
